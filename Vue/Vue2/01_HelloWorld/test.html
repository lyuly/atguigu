<!DOCTYPE html>
<html lang="en">
    <head>
        <title>
            01_HelloWorld
        </title>
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    </head>

    <body>

        <div id="app">
            <input type="text" v-model="username">
            <p> ä½ å¥½,æˆ‘å«{{ username }}</p>
        </div>

        <div id="app1">
            <h2> 1. åŒå¤§æ‹¬å·è¡¨è¾¾å¼</h2>
            <p> {{ msg }} </p>
            <p> {{ msg.toUpperCase() }}</p>
            <p v-html='msg'></p>
            <p v-text='msg'></p>

            <h2> 2. æŒ‡ä»¤ä¸€ï¼šå¼ºåˆ¶æ•°æ®ç»‘å®š</h2>
            <img :src="imgUrl" style="height: 270px; width: 480px;">

            <h2> 3. æŒ‡ä»¤äºŒï¼š ç»‘å®šæ—¶é—´ç›‘å¬</h2>
            <button v-on:click="test">test1</button>
            <button @click="test2(msg)">test2</button>
        </div>


        <div id="demo">
            å§“: <input type="text" placeholder="First Name" v-model="firstName"><br>
            å: <input type="text" placeholder="Last Name" v-model="lastName"><br>
            å§“å1ï¼ˆå•å‘) : <input type="text" placeholder="Full Name1" v-model="fullName1"><br>
            å§“å2ï¼ˆå•å‘ï¼‰: <input type="text" placeholder="Full Name2" v-model="fullName2"><br>
            å§“å3ï¼ˆåŒå‘ï¼‰: <input type="text" placeholder="Full Name3" v-model="fullName3"><br>

            <p>
                {{ fullName1 }}
                <br>
                {{ fullName1 }}
                <br>
                {{ fullName1 }}
            </p>
        </div>

        <script>

            const vm = new Vue({
                el: "#demo",
                data: {
                    firstName: 'A',
                    lastName: 'B',
                    //fullName: 'A B'
                    fullName2: 'A B'
                },
                computed: {
                    // ä»€ä¹ˆæ—¶å€™æ‰§è¡Œï¼š åˆå§‹åŒ–æ˜¾ç¤º/ç›¸å…³çš„dataå±æ€§æ•°æ®å‘ç”Ÿæ”¹å˜
                    // è®¡ç®—å¹¶è¿”å›å½“å‰å±æ€§çš„å€¼
                    fullName1 () { // è®¡ç®—å±æ€§ä¸­çš„ä¸€ä¸ªæ–¹æ³•ï¼Œæ–¹æ³•çš„è¿”å›å€¼ä½œä¸ºå±æ€§å€¼
                        console.log('fullName1()')
                        return this.firstName + ' ' + this.lastName
                    },

                    fullName3: {
                        // 1. ä½ å®šä¹‰çš„ 2. ä½ æ²¡æœ‰è°ƒç”¨ 3. ä½†æœ€ç»ˆå®ƒæ‰§è¡Œäº†
                        // 2. ä»€ä¹ˆæ—¶å€™è°ƒç”¨? 2. ç”¨æ¥åšä»€ä¹ˆ
                        // å›è°ƒå‡½æ•°ï¼Œå½“éœ€è¦è¯»å–å½“å‰å±æ€§æ—¶å›è°ƒï¼Œæ ¹æ®ç›¸å…³çš„æ•°æ®è®¡ç®—å¹¶è¿”å›å½“å‰å±æ€§çš„å€¼
                        // é€šè¿‡getter/setterå®ç°å¯¹å±æ€§æ•°æ®çš„ç³»æ˜¾ç¤ºå’Œç›‘è§†
                        // è®¡ç®—å±æ€§å­˜åœ¨ç¼“å­˜ï¼Œå¤šæ¬¡è¯»å–åªæ‰§è¡Œä¸€ä¸ªgetterè®¡ç®—
                        // getter: å±æ€§çš„getæ–¹æ³•
                        // setter: å±æ€§çš„setæ–¹æ³•
                        get() {
                            return this.firstName + ' ' + this.lastName
                        },
                        // å›è°ƒå‡½æ•°ï¼Œç›‘è§†å½“å‰å±æ€§å€¼çš„å˜åŒ–ï¼Œå½“å±æ€§å€¼å‘ç”Ÿæ”¹å˜æ—¶å›è°ƒï¼Œæ›´æ–°ç›¸å…³çš„å±æ€§æ•°æ®
                        set(value) { // valueå°±æ˜¯fullName3çš„æœ€æ–°å±æ€§å€¼
                            const names = value.split(' ')
                            this.firstName = names[0]
                            this.lastName = names[1]
                        }
                    }
                },

                watch: { // é…ç½®ç›‘è§†
                    firstName: function (value) { // firstNameå‘ç”Ÿäº†å˜åŒ–
                        console.log(this) // å°±æ˜¯vmå¯¹è±¡
                        this.fullName2 = value + ' ' + this.lastName
                    }
                }
            })

            // é€šè¿‡vmå¯¹è±¡çš„$watch()æˆ–watché…ç½®æ¥ç›‘è§†æŒ‡å®šçš„å±æ€§
            // å½“å±æ€§å˜åŒ–æ—¶ï¼Œå›è°ƒå‡½æ•°è‡ªåŠ¨è°ƒç”¨ï¼Œåœ¨å‡½æ•°å†…éƒ¨è¿›è¡Œè®¡ç®—
            vm.$watch('lastName' ,function (value) {
                // æ›´æ–°fullName2
                this.fullName2 = this.firstName + ' ' + value
            })

            // åˆ›å»ºVueå®ä¾‹
            var app = new Vue({ // é…ç½®å¯¹è±¡
                el: '#app', // element: é€‰æ‹©å™¨
                data: {
                    username: 'é¥­é¥­'
                }
            })

            var app1 = new Vue({
                el: '#app1',
                data: {
                    msg: '<a herf="https://lyuly.com"> I will wait for you</a>',
                    imgUrl: '/image/6.jpg'
                },
                methods: {
                    test() {
                        alert('å˜¿å˜¿ ğŸ˜œ')
                    },
                    test2(content) {
                        alert(content)
                    }
                }
            })

        </script>

    </body>
</html>