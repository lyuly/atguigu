<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <title>Fetch test</title>
  </head>

  <body>
    <h1>Fetch basic example</h1>

    <img src="" class="my-image">
  </body>

  <script>
    var myImage = document.querySelector('.my-image');

    fetch('flowers.jpeg')
    .then(res => {
      if (!res.ok) {
        throw new Error('HTTP error, status = ' + res.status);
      }
      return res.blob();
    })
    .then(myBlob => {
      var objectURL = URL.createObjectURL(myBlob);
      myImage.src = objectURL;
    })
    .catch(error => {
      var p = document.createElement('p');
      p.appendChild(
        document.createTextNode('Error: ' + error.message)
      );
      document.body.insertBefore(p ,myImage);
    });
  </script>
</html>